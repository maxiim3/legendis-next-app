'use client';

import Legendis from '@/components/atoms/Legendis';
import {Label} from '@/components/ui/label';
import {Separator} from '@/components/ui/separator';
import {Switch} from '@/components/ui/switch';
import {cn} from '@/lib/utils';
import {OZ_AvailableLanguages, useI18nContext} from '@/stores/i18n.store';
import {useNavigationStore} from '@/stores/navigation.store';
import React from 'react';

export default function Header() {
   const {sections, setActiveSection, activeSection} = useNavigationStore(store => store);

   const currentLanguage = useI18nContext(store => store.currentLanguage);
   return (
      <header
         className={cn(
            //Commons
            'drawer fixed left-0 z-50 flex w-screen justify-end px-8 py-6'
         )}>
         <input
            id='my-drawer'
            type='checkbox'
            className='drawer-toggle'
         />
         <div className='drawer-content bg-base-100/60 drop-shadow-xl backdrop-blur-md md:shadow-none'>
            {/* Page content here */}
            <label
               htmlFor='my-drawer'
               className={cn(
                  'button-outline btn drawer-button flex h-16 flex-col items-center justify-center rounded-md px-4 opacity-80 hover:opacity-100'
               )}>
               Menu
            </label>
         </div>
         <aside
            tabIndex={0}
            className='drawer-side'>
            <label
               htmlFor='my-drawer'
               aria-label='close sidebar'
               className='drawer-overlay'
            />
            <nav className='menu flex h-full w-80 flex-col items-center justify-between bg-base-200/80 backdrop-blur py-4 text-base-content'>
               <header className={'flex w-[100%] flex-row items-center justify-between'}>
                  <Legendis className={cn('h-8 w-16 fill-primary')} />
                  <label
                     htmlFor='my-drawer'
                     className={cn(
                        'btn btn-outline drawer-button flex h-16 flex-col items-center justify-center border-primary/70 px-4 text-primary/70 opacity-80 hover:opacity-100'
                     )}>
                     <svg
                        className={cn('h-8 w-16 fill-primary')}
                        width={64}
                        height={64}
                        viewBox='0 0 24 24'
                        xmlns='http://www.w3.org/2000/svg'>
                        <path d='M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12z' />
                     </svg>
                  </label>
               </header>
               <Separator className={'opacity-50'} />
               <ul className={'flex w-full flex-col gap-2'}>
                  {Object.values(sections).map(section => (
                     <a
                        onClick={() => {
                           setActiveSection(section.slug);
                        }}
                        key={`nav-item-${section.slug}`}
                        className={cn(
                           'btn btn-outline rounded border-base-300 bg-base-200 px-4 py-2 text-primary hover:border-none hover:bg-base-300 hover:text-primary',
                           activeSection === section.slug && 'bg-primary text-primary-content'
                        )}
                        href={`#${section.id}`}>
                        {section.title[currentLanguage]}
                     </a>
                  ))}
               </ul>
               <Separator className={'opacity-50'} />
               <SwitchLanguage />
            </nav>
         </aside>
      </header>
      // <header
      //    className={cn(
      //       //Commons
      //       'fixed left-0 z-50 w-screen bg-base-100/60 py-6 drop-shadow-xl backdrop-blur-md',
      //
      //       // Bottom Navigation
      //       'bottom-0  shadow-[0_-4px_10px_1px_rgba(0,0,0,0.6)]',
      //
      //       // Top Navigation
      //       'md:top-0 md:h-min md:shadow-none',
      //
      //       // Side Navigation
      //       'xl:h-screen xl:w-auto xl:border-r xl:border-amber-50/30 xl:px-3'
      //    )}>
      //    <MobileNavigation />
      //    <DesktopNavigation />
      //    <LargeScreenNavigation />
      // </header>
   );
}

function SwitchLanguage() {
   const {toggleLanguage, currentLanguage} = useI18nContext(store => store);

   return (
      <div
         className='flex items-center space-x-2'
         data-language={currentLanguage}>
         <Label
            className={'uppercase'}
            htmlFor='language'>
            {OZ_AvailableLanguages.Values.fr}
         </Label>
         <Switch
            onClick={toggleLanguage}
            id='language'
         />
         <Label
            className={'uppercase'}
            htmlFor='language'>
            {OZ_AvailableLanguages.Values.en}
         </Label>
      </div>
   );
}

function Close() {
   return (
      <svg
         width='64'
         height='80'
         viewBox='0 0 127 163'
         fill='none'
         xmlns='http://www.w3.org/2000/svg'>
         <path
            d='M111.02 37.2107C111.88 33.5526 112.416 30.0627 112.605 26.7599C112.648 26.1012 112.668 25.4444 112.68 24.7996L116.719 29.3063C116.536 32.3901 116.109 35.6246 115.41 38.9831C113.944 45.5098 111.569 52.2892 108.305 59.3254C105.468 65.4785 101.946 71.6259 97.7233 77.7572C93.7452 83.7206 89.4443 89.3117 84.7575 94.541C82.2776 97.1488 79.7062 99.6714 77.0788 102.106C74.5342 104.483 71.736 106.799 68.7477 109.077C64.0396 112.79 58.0844 116.983 50.91 121.664C50.1846 122.07 47.5565 123.74 42.9978 126.666C38.4352 129.598 34.964 131.838 32.5685 133.375C26.5879 137.461 21.1701 141.408 16.3507 145.261L10.764 141.64C12.9016 139.961 15.0904 138.255 17.3504 136.543C19.5947 134.856 22.1549 133.064 25.0111 131.164C27.8475 129.277 30.1246 127.765 31.8069 126.666C33.4892 125.568 36.149 123.901 39.7388 121.652C43.3405 119.419 45.7008 117.936 46.875 117.186C53.9871 112.653 59.8756 108.563 64.5484 104.904C67.4228 102.75 70.1542 100.52 72.7032 98.2057C75.2364 95.8986 77.7214 93.4572 80.1939 90.9305C84.7627 85.8136 89.0924 80.4043 93.147 74.6536C97.3625 68.7068 100.882 62.7206 103.724 56.7338C107.033 50.0103 109.481 43.5187 111.02 37.2107Z'
            fill='#BA981E'
         />
         <path
            d='M36.9062 31.3176C36.4144 27.5923 36.2277 24.0663 36.3676 20.7611C36.3898 20.1014 36.4355 19.4458 36.4878 18.8031L32.0209 22.8862C31.8963 25.9729 31.9998 29.2338 32.3617 32.6451C33.1727 39.2853 34.8624 46.267 37.4106 53.5926C39.6229 59.9973 42.5168 66.4641 46.1091 72.9846C49.4751 79.3137 53.1992 85.3044 57.3433 90.9735C59.5518 93.8147 61.8599 96.5803 64.2324 99.2642C66.5283 101.882 69.0826 104.464 71.8298 107.028C76.1457 111.191 81.6548 115.954 88.3287 121.325C89.0101 121.801 91.4593 123.724 95.7048 127.088C99.9536 130.459 103.185 133.033 105.416 134.801C110.961 139.46 115.96 143.926 120.373 148.239L126.291 145.191C124.331 143.307 122.323 141.392 120.244 139.465C118.178 137.563 115.809 135.526 113.156 133.351C110.521 131.191 108.405 129.461 106.84 128.2C105.275 126.94 102.794 125.017 99.4459 122.423C96.0837 119.843 93.8825 118.133 92.7886 117.27C86.1621 112.053 80.709 107.398 76.4228 103.293C73.7767 100.864 71.2803 98.3734 68.9738 95.8176C66.6823 93.2703 64.4523 90.5941 62.243 87.8343C58.2052 82.2888 54.4343 76.4761 50.9711 70.351C47.3672 64.0148 44.4602 57.7086 42.2264 51.469C39.6019 44.4501 37.8111 37.7474 36.9062 31.3176Z'
            fill='#BA981E'
         />
         <path
            fillRule='evenodd'
            clipRule='evenodd'
            d='M98.2829 22.2423C98.5233 18.2688 98.3068 14.6173 97.5976 11.256C97.3196 9.80521 96.9512 8.44179 96.4962 7.15964L101.914 13.2122C102.436 16.375 102.627 19.718 102.459 23.2491C102.362 26.7748 101.91 30.5342 101.077 34.4836C99.6099 41.0103 97.2467 47.7716 93.9872 54.8017C91.1456 60.9609 87.6236 67.1083 83.4012 73.2396C79.4231 79.203 75.1105 84.8122 70.4355 90.0234C67.9555 92.6312 65.3841 95.1538 62.7567 97.5887C60.1922 99.9441 57.4139 102.281 54.4256 104.559C51.237 107.077 47.5038 109.791 43.2063 112.731C42.6548 113.112 42.0954 113.488 41.5203 113.871C39.9485 114.938 38.3057 116.028 36.5959 117.152C36.5604 117.172 36.5249 117.192 36.4855 117.218C36.2253 117.358 35.8194 117.601 35.2677 117.948C33.9398 118.778 31.749 120.174 28.6757 122.148C24.1014 125.098 20.642 127.32 18.2464 128.858C13.7048 131.969 9.46124 135.002 5.57736 137.961L3.05295e-05 134.346L1.607 133.105C1.81569 132.95 2.02131 132.791 2.22721 132.631C2.49141 132.426 2.7561 132.221 3.02835 132.026C5.27659 130.332 7.83674 128.541 10.689 126.646C13.5254 124.759 15.7907 123.266 17.4848 122.149C18.6342 121.398 20.2381 120.393 22.2812 119.113C23.2286 118.519 24.2703 117.866 25.4049 117.152C27.0059 116.146 28.3702 115.293 29.4943 114.59C30.8824 113.722 31.9041 113.083 32.5529 112.668C32.5982 112.642 32.6426 112.613 32.6869 112.583C32.7312 112.554 32.7755 112.525 32.8209 112.499C32.9408 112.421 33.0602 112.344 33.1789 112.267C33.4073 112.119 33.6328 111.974 33.8531 111.828C35.1258 111.014 36.3511 110.22 37.529 109.429C37.6242 109.367 37.7193 109.304 37.8143 109.241C38.2889 108.929 38.7589 108.62 39.2151 108.307C43.4342 105.47 47.1085 102.83 50.2263 100.387C53.1046 98.2261 55.8401 96.0072 58.3851 93.682C60.9223 91.3862 63.3993 88.9396 65.8718 86.413C70.4406 81.296 74.7782 75.8919 78.8131 70.1541C83.0405 64.1892 86.5596 58.203 89.4022 52.2162C92.7111 45.4927 95.159 39.0011 96.7021 32.687C97.5616 29.0289 98.0937 25.5451 98.2829 22.2423Z'
            fill='#BA981E'
         />
      </svg>
   );
}

function Hamburger() {
   return (
      <svg
         width='64'
         height='32'
         viewBox='0 0 160 80'
         fill='none'
         className={'fill-primary'}
         xmlns='http://www.w3.org/2000/svg'>
         <g id='menu'>
            <g id='logo'>
               <g id='int'>
                  <path
                     id='int-main'
                     d='M143.111 49.3291C146.648 48.0606 149.868 46.6123 152.742 44.9747C153.318 44.6528 153.88 44.312 154.428 43.9712L152.843 49.8119C150.156 51.336 147.21 52.737 144.011 53.9771C137.736 56.2963 130.756 57.9907 123.077 59.0794C116.37 60.0449 109.295 60.433 101.854 60.2248C94.686 60.1301 87.655 59.5621 80.7176 58.4735C77.1805 57.8109 73.665 57.0252 70.1927 56.1448C66.8141 55.3023 63.349 54.2137 59.8119 52.9452C54.1352 51.0141 47.378 48.2973 39.5473 44.8232C38.8125 44.4351 35.9814 43.1382 31.0467 40.9042C26.1049 38.6701 22.3372 36.9757 19.7438 35.8019C13.0629 33.0053 6.80376 30.6059 0.948853 28.6577V22.0001C3.52064 22.8804 6.14287 23.7892 8.80831 24.7548C11.4449 25.7203 14.3409 26.8941 17.489 28.2573C20.6155 29.6109 23.1225 30.6996 24.9594 31.5137C26.7964 32.3278 29.642 33.653 33.4817 35.4421C37.3141 37.2502 39.8427 38.424 41.1106 39.0015C48.7827 42.504 55.4175 45.2208 61.0294 47.1519C64.4008 48.392 67.7578 49.4711 71.086 50.3515C74.3998 51.2224 77.8 51.9797 81.2651 52.6802C88.044 53.7309 94.9381 54.422 101.969 54.6965C109.252 54.9994 116.19 54.6965 122.76 53.8256C130.201 52.9452 136.98 51.4685 143.111 49.3291Z'
                  />
               </g>
               <g id='int_2'>
                  <path
                     id='int-main_2'
                     d='M143.027 68.329C146.564 67.0605 149.785 65.6122 152.659 63.9745C153.235 63.6527 153.797 63.3119 154.345 62.9711L152.76 68.8118C150.073 70.3358 147.126 71.7369 143.928 72.9769C137.653 75.2962 130.673 76.9906 122.993 78.0792C116.286 79.0448 109.212 79.4329 101.771 79.2247C94.6027 79.13 87.5717 78.562 80.6344 77.4734C77.0972 76.8108 73.5818 76.0251 70.1095 75.1447C66.7308 74.3022 63.2658 73.2136 59.7287 71.9451C54.052 70.014 47.2947 67.2972 39.4641 63.8231C38.7293 63.435 35.8982 62.1381 30.9635 59.904C26.0216 57.67 22.254 55.9756 19.6606 54.8017C12.9796 52.0052 6.72051 49.6058 0.865601 47.6576V41C3.43739 41.8803 6.05962 42.7891 8.72506 43.7546C11.3617 44.7202 14.2577 45.894 17.4058 47.2571C20.5322 48.6108 23.0392 49.6994 24.8762 50.5135C26.7132 51.3276 29.5587 52.6529 33.3984 54.442C37.2309 56.2501 39.7594 57.4239 41.0273 58.0013C48.6995 61.5038 55.3343 64.2207 60.9461 66.1518C64.3175 67.3918 67.6746 68.471 71.0028 69.3514C74.3165 70.2223 77.7168 70.9796 81.1819 71.6801C87.9607 72.7308 94.8548 73.4218 101.886 73.6964C109.169 73.9993 116.106 73.6964 122.676 72.8255C130.118 71.9451 136.897 70.4684 143.027 68.329Z'
                  />
               </g>
               <g id='ext'>
                  <path
                     id='ext-main'
                     fillRule='evenodd'
                     clipRule='evenodd'
                     d='M148.315 21.7395C151.78 19.78 154.727 17.6123 157.161 15.1889C158.228 14.1665 159.171 13.1158 160 12.0366L157.867 19.8747C155.497 22.033 152.796 24.0114 149.741 25.7911C146.73 27.6275 143.33 29.2936 139.562 30.7419C133.288 33.0612 126.329 34.7556 118.657 35.8443C111.943 36.8098 104.868 37.1979 97.4267 36.9897C90.2588 36.895 83.2062 36.327 76.2905 35.2384C72.7533 34.5758 69.2378 33.7901 65.7656 32.9097C62.3941 32.0388 58.9219 30.9786 55.3847 29.7101C51.5379 28.4038 47.2299 26.7472 42.4249 24.7403C41.8054 24.4848 41.1859 24.2197 40.5519 23.9452C38.8014 23.2068 36.9932 22.4211 35.1202 21.5976C35.0842 21.5786 35.0481 21.5597 35.0049 21.5408C34.7456 21.3988 34.3206 21.1905 33.7298 20.916C32.3107 20.2533 29.9478 19.1742 26.6196 17.6691C21.6561 15.435 17.9101 13.7406 15.3167 12.5668C10.236 10.4478 5.3829 8.53636 0.786865 6.88701V0.240544L2.70264 0.913806C2.94559 1.00502 3.1913 1.09079 3.43736 1.17667C3.75309 1.28688 4.06939 1.39728 4.38114 1.51965C7.02497 2.4852 9.92094 3.65902 13.0618 5.02216C16.1883 6.37583 18.6737 7.46445 20.5323 8.27855C21.7874 8.83475 23.5031 9.63399 25.6888 10.6521C26.7022 11.1242 27.8166 11.6433 29.0329 12.207C30.7477 13.0034 32.2059 13.6841 33.4073 14.2449C34.8908 14.9375 35.9829 15.4473 36.6834 15.7663C36.7302 15.79 36.7789 15.8113 36.8275 15.8326C36.8761 15.8539 36.9248 15.8752 36.9716 15.8989C37.1022 15.9571 37.2319 16.0154 37.3608 16.0733C37.6088 16.1847 37.8536 16.2947 38.0954 16.4006C39.4713 17.0254 40.804 17.6217 42.1079 18.1802C42.2124 18.226 42.3167 18.2718 42.4208 18.3175C42.9411 18.5458 43.4563 18.7719 43.9666 18.9849C48.6419 20.9822 52.8562 22.6294 56.6022 23.9168C59.9808 25.1569 63.3306 26.2455 66.666 27.1164C69.9726 27.9967 73.3729 28.7446 76.8379 29.4451C83.6168 30.4958 90.511 31.1963 97.5203 31.4614C104.825 31.7643 111.762 31.4614 118.332 30.5905C125.774 29.7101 132.553 28.2334 138.691 26.094C142.228 24.8255 145.441 23.3772 148.315 21.7395Z'
                  />
               </g>
            </g>
         </g>
      </svg>
   );
}
